Date.prototype.diff = function(a) {
	return (this.getTime() - a.getTime()) / 864e5
};
var F = {};
var $ = $ ? $ : window.Zepto;
F.formatMonthString = function(a) {
	var b = function(a, b) {
			for (var c = "" + a; c.length < b;) c = "0" + c;
			return c
		};
	return b(a.getMonth() + 1, 1) + "月" + b(a.getDate(), 2) + "日"
}, F.getQueryString = function(a) {
	var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)", "i"),
		c = window.location.search.substr(1).match(b);
	return null != c ? unescape(c[2]) : null
}, F.gtIOS4 = function(a) {
	return navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) ? Boolean(navigator.userAgent.match(/OS [5-9]_\d[_\d]* like Mac OS X/i)) : !1
}(F), F.loading = function(a, b) {
	var c = a(".f_ui-loading"),
		d = !1,
		e = function(b, e) {
			var f = e || "加载中...";
			c.parent().length ? c.show() : (c = a('<div class="f_ui-loading"><div class="load_body"><span class="typing_loader"></span><span class="load_text">' + f + "</span></div></div>"), b && c.addClass("load_mask"), c.appendTo(a("body"))), d = !0
		},
		f = function() {
			c.hide(), d = !1
		},
		g = function() {
			c.remove(), d = !1
		},
		h = function() {
			return d
		};
	return {
		show: e,
		hide: f,
		remove: g,
		isLoading: h
	}
}(window.Zepto, F), F.mask = function(a, b) {
	var c = a(".f-ui_mask"),
		d = function(b, d) {
			c.length && !c.is(":visible") ? c.addClass("bounceIn").show() : (c = a('<div class="f-ui_mask animated bounceIn"></div>').appendTo("body"), Number(b) && c.css("opacity", b))
		},
		e = function() {
			c.length && c.removeClass("bounceIn").hide()
		};
	return {
		show: d,
		hide: e
	}
}(Zepto, F), function(a, b) {
	function c(b, c, d) {
		var b = b || "",
			c = c || 1,
			d = d || 1500,
			e = a('<div class="f_ui-msg animated fadeIn"><span class="msg_type type_' + c + '">' + b + "</span></div>").appendTo(a("body"));
		setTimeout(function() {
			e.css({
				marginLeft: -e.width() / 2,
				marginTop: -e.height() / 2,
				left: "50%",
				top: "50%"
			})
		}, 10), setTimeout(function() {
			e.remove()
		}, d)
	}
	function d() {
		a(".f_ui-msg").length && a(".f_ui-msg").remove()
	}
	b.showMsg = c, b.hideMsg = d
}(window.Zepto, F), function(a, b) {
	function c(c) {
		var d = a.extend({}, {
			url: "url",
			type: "post",
			data: {},
			callback: null
		}, c);
		b.loading.show(), a.ajax({
			type: d.type,
			dataType: "json",
			url: d.url,
			data: d.data,
			success: function(a) {
				b.loading.hide(), d.callback && d.callback(a)
			},
			error: function(a) {
				console.log(a)
			}
		})
	}
	b.getPage = c
}(window.Zepto, F), function(a, b) {
	function c(c) {
		var d = a.extend({}, {
			totalPage: 1,
			index: 0,
			url: "url",
			type: "post",
			data: {},
			callback: null,
			loadComplete: null
		}, c),
			e = a(window),
			f = a(document),
			g = !1,
			h = d.index;
		e[0].addEventListener("scroll", function(a) {
			if (!g) {
				var c = f.height(),
					i = e.height(),
					j = document.documentElement.scrollTop || document.body.scrollTop;
				if (b.loading.isLoaded() && i + 10 > c - j) {
					if (h++, !(h < d.totalPage)) return g = !0, d.loadComplete && d.loadComplete(), !1;
					b.getPage(d)
				}
			}
		})
	}
	b.loadPage = c
}(window.Zepto, F), function(a, b) {
	function c(c, d) {
		var e = this,
			f = {
				msgTip: !0,
				single: !0,
				twinkling: !1
			},
			g = a.extend({}, f, d),
			h = {
				"*": "不能为空！",
				"*6-16": "请填写6到16位任意字符！",
				n: "请填写数字！",
				"n6-16": "请填写6到16位数字！",
				s: "不能输入特殊字符！",
				"s6-18": "请填写6到18位字符！",
				zh: "请输入中文！",
				"zh1-6": "请输入1到6个中文字符！",
				p: "请填写邮政编码！",
				m: "请填写手机号码！",
				e: "邮箱地址格式不对！",
				url: "请填写网址！"
			},
			i = {
				"*": /[\w\W]+/,
				"*6-16": /^[\w\W]{6,16}$/,
				n: /^\d+$/,
				"n6-16": /^\d{6,16}$/,
				s: /^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,
				"s6-18": /^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,
				zh: /^[\u4E00-\u9FA5\uf900-\ufa2d]+$/,
				"zh1-6": /^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/,
				p: /^[0-9]{6}$/,
				m: /^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,
				e: /^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,
				url: /^(\w+:\/\/)?\w+(\.\w+)+.*$/
			},
			j = c instanceof a ? c : a(c),
			k = j.find("*[datatype]"),
			l = function(a) {
				a.addClass("validform_error"), g.twinkling && (a.addClass("twinkling"), a[0].addEventListener("webkitAnimationEnd", function() {
					a.removeClass("twinkling")
				}, !1))
			},
			m = function() {
				var c = !0;
				return a.each(k, function(d, e) {
					var f = a(this),
						j = /\/.+\//g,
						k = /^(.+?)(\d+)-(\d+)$/,
						m = f.attr("datatype"),
						n = f.attr("errormsg");
					if (j.test(m)) {
						var o = m.match(j)[0].slice(1, -1),
							p = m.replace(j, ""),
							q = RegExp(o, p);
						if (q.test(f.val())) f.is(".validform_error") && f.removeClass("validform_error");
						else if (c = !1, l(f), g.single) return g.msgTip && b.showMsg(n || h[m], 3, 3e3), !1
					} else {
						if (!(m in i)) {
							var r, s = m.match(k);
							if (s) {
								for (var t in i) if (r = t.match(k), r && s[1] === r[1]) {
									var u = i[t].toString(),
										p = u.match(/\/[mgi]*/g)[1].replace("/", ""),
										v = new RegExp("\\{" + r[2] + "," + r[3] + "\\}", "g");
									u = u.replace(/\/[mgi]*/g, "/").replace(v, "{" + s[2] + "," + s[3] + "}").replace(/^\//, "").replace(/\/$/, ""), i[m] = new RegExp(u, p);
									break
								}
							} else console.log('验证规则:"' + m + '"不符合规则')
						}
						if (i[m] && !i[m].test(f.val())) {
							if (c = !1, l(f), g.single) return g.msgTip && b.showMsg(n || h[m], 3, 3e3), !1
						} else f.is(".validform_error") && f.removeClass("validform_error")
					}
				}), c
			};
		j.on("submit", function(a) {
			return m()
		}), j.on("reset", function(a) {
			e.reset()
		}), this.validate = function() {
			return m()
		}, this.reset = function() {
			k.val("").removeClass("validform_error")
		}
	}
	b.validform = c
}(window.Zepto, F), function(a, b) {
	function c(b, c) {
		var d, e, f, g, h, i, j, k, l = function() {},
			m = function() {
				return !0
			},
			n = !1,
			o = 0,
			p = 200,
			q = 0,
			r = this;
		a.isPlainObject(b) ? (d = a(b.selector), c = b.showDots, m = b.onBeforeSlide || m, l = b.onAfterSlide || l, k = b.autoPlay, q = b.interval || 3e3) : d = a(b);
		var s = function() {
				f = d.children().first(), g = f.children(), h = g.length, i = d.offset().width, f.css("width", h * i), g.css({
					width: i,
					"float": "left"
				}).find("img").width(i).end().show(), void 0 == c && (c = !0), c && u(), v(0, 0), l(0), k && t()
			},
			t = function() {
				setTimeout(function() {
					o == h - 1 ? v(0) : r.next(), t()
				}, q)
			},
			u = function() {
				if (e = d.find(".dots"), e.length > 0) e.show();
				else {
					for (var b = '<div class="dots"><ul>', c = 0; h > c; c++) b += '<li index="' + c + '"', 0 == c && (b += 'class="active"'), b += '><a href="#"></a></li>';
					b += "</ul></div>", d.append(b), e = d.find(".dots"), e.find("li").on("tap", function() {
						var b = a(this).attr("index");
						v(parseInt(b), p)
					})
				}
			},
			v = function(b, c) {
				c = c || p, f.css({
					"-webkit-transition-duration": c + "ms",
					"-webkit-transform": "translate3D(" + -(b * i) + "px,0,0)"
				}), o != b && (o = b, e && a(e.find("li").get(o)).addClass("active").siblings().removeClass("active"), l(o))
			},
			w = function() {
				f.on("touchstart", x, !1), f.on("touchmove", y, !1), f.on("touchend", z, !1)
			},
			x = function(a) {
				var b = a.touches[0];
				start = {
					pageX: b.pageX,
					pageY: b.pageY,
					time: Number(new Date)
				}, isScrolling = void 0, j = 0, f[0].style.webkitTransitionDuration = 0, n = !0
			},
			y = function(a) {
				if (n) {
					var b = a.touches[0];
					if (j = b.pageX - start.pageX, "undefined" == typeof isScrolling && (isScrolling = Math.abs(j) < Math.abs(b.pageY - start.pageY)), !isScrolling) {
						a.preventDefault();
						var c = !o && j > 0 || o == h - 1 && 0 > j;
						if (c) return;
						var d = j - o * i;
						f[0].style.webkitTransform = "translate3D(" + d + "px,0,0)"
					}
				}
			},
			z = function(a) {
				var b = Number(new Date) - start.time < 250 && Math.abs(j) > 20 || Math.abs(j) > i / 3,
					c = !o && j > 0 || o == h - 1 && 0 > j;
				isScrolling || (m(o, j) ? v(o + (b && !c ? 0 > j ? 1 : -1 : 0), p) : v(o)), n = !1
			};
		s(), w(), this.refresh = function() {
			f.attr("style", ""), s()
		}, this.prev = function() {
			o && v(o - 1, p)
		}, this.next = function() {
			h - 1 > o && v(o + 1, p)
		}, this.index = function(a) {
			v(a)
		}
	}
	b.slider = c
}(window.Zepto, F), function(a, b) {
	function c(b) {
		var c = this,
			d = a.extend({}, {
				title: "",
				content: "",
				width: 240,
				height: "auto",
				position: "middle",
				lock: !1,
				mask: !0,
				padding: "10px 15px",
				skin: "",
				okValue: "确定",
				cancelValue: "取消",
				btnPosition: "bottom",
				hideBtn: !1,
				ok: null,
				cancel: null
			}, b),
			e = a('<div class="f-ui_dialog ' + d.skin + ' animated"><div class="bd"><div class="c_bd"></div><div class="c_ft"></div></div></div>'),
			f = a('<span class="f-ui_btn o">' + d.okValue + "</span>"),
			g = a('<span class="f-ui_btn c">' + d.cancelValue + "</span>"),
			h = a('<div class="hd"><div class="title"></div></div>'),
			i = a('<div class="f-ui_mask"></div>');
		this.dom = e;
		var j = "fadeIn",
			k = "fadeOut",
			l = function() {
				d.mask && i.appendTo("body"), d.title !== !1 && (e.find(".bd").before(h), c.setTitle(d.title)), c.setContent(d.content);
				var b = e.find(".c_ft");
				switch ("top" === d.btnPosition ? (e.find(".hd").append(f).append(g), b.remove()) : (d.ok || d.cancel ? (d.cancel && b.append(g), d.ok && b.append(f)) : b.remove(), 1 == b.find(".f-ui_btn").length && b.find(".f-ui_btn").width("100%")), isNaN(1 * d.width) && (/\d+%$/.test(d.width) ? d.width = a(window).width() * d.width.split("%")[0] / 100 : d.width = 200), e.css({
					zIndex: 9999,
					position: "fixed",
					width: d.width,
					left: "50%",
					marginLeft: -d.width / 2
				}).find(".c_bd").css("padding", d.padding), setTimeout(function() {
					c.setHeight(d.height)
				}, 10), d.position) {
				case "bottom":
					e.css({
						bottom: "0"
					}).addClass("dialog_bottom"), j = "bounceInUp";
					break;
				case "top":
					e.css({
						top: "0"
					}), j = "bounceInDown";
					break;
				default:
					setTimeout(function() {
						e.css({
							top: "50%",
							marginTop: -e.height() / 2
						})
					}, 15)
				}
				e.hide().appendTo("body")
			},
			m = function() {
				f.on("click", function() {
					var a = d.ok && d.ok();
					if (a !== !1) return c.close(), !1
				}), g.on("click", function() {
					return d.cancel && d.cancel(), c.close(), !1
				}), e.find(".close").on("click", function() {
					return c.close(), !1
				}), !d.lock && i.on("click.dialog", function() {
					c.close()
				})
			};
		this._setPosition = function() {
			switch (d.position) {
			case "bottom":
				e.css({
					bottom: "0"
				}), j = "bounceInUp";
				break;
			case "top":
				e.css({
					top: "0"
				});
				break;
			default:
				e.css({
					top: "50%",
					marginTop: -e.height() / 2
				})
			}
		}, this.setTitle = function(a) {
			d.title !== !1 && h.find(".title").html(a)
		}, this.setContent = function(b) {
			"object" == typeof b && (b = a(b).show(0)), e.find(".c_bd").html("").append(b)
		}, this.setHeight = function(a) {
			var b = e.find(".c_ft").height(),
				c = a - b;
			d.title !== !1 && (c -= e.find(".hd").height()), e.height(a).find(".bd .c_bd").height(c)
		}, this.show = function(a) {
			return d.mask && i.show(), a ? (e.show(), c) : (e.addClass(j).show(), e.on("webkitAnimationEnd", function() {
				e.removeClass(j).unbind("webkitAnimationEnd")
			}), c)
		}, this.close = function() {
			return d.mask && i.hide(), e.removeClass(j).addClass(k), e.on("webkitAnimationEnd", function() {
				e.removeClass(k).hide().unbind("webkitAnimationEnd")
			}), c
		}, this.remove = function() {
			e.remove(), d.mask && i.remove()
		};
		var n = function() {
				l(), m()
			};
		n()
	}
	function d(b) {
		var d = a.extend({}, {
			title: "提示",
			width: 280,
			position: "middle",
			skin: "f-ui_confirm",
			lock: !0,
			okValue: "确定",
			cancelVal: "取消",
			btnPosition: "bottom"
		}, b);
		d.content = '<div class="confirm_text">' + d.content + "</div>", c.call(this, d), this.close = function() {
			return this.remove(), null
		}
	}
	b.dialog = c, b.confirm = d
}($, F), function(a, b) {
	function c(c) {
		var d, e = this,
			f = a.extend({}, {
				title: "",
				content: "",
				data: [],
				position: "bottom",
				lock: !0,
				width: "100%",
				ok: null,
				cancel: null,
				onSelect: null
			}, c),
			g = a(f.content).addClass("f-ui_listpicker").show().append("<i>"),
			h = !1,
			i = {},
			j = function() {
				g.find("ul").append("<li>&nbsp;</li><li>&nbsp;</li>").find("li:first").before("<li>&nbsp;</li><li>&nbsp;</li>")
			},
			k = function() {
				var a, b = Math.abs(this.y % 34),
					c = Math.abs(Math.ceil(this.y / 34));
				34 > b && (a = c + 2);
				var d = g.find("li").eq(a);
				d.addClass("on").siblings().removeClass("on"), i = {
					key: d.attr("data-key") || d.html(),
					val: d.html(),
					el: d
				}, f.onSelect && f.onSelect(i)
			},
			l = function() {
				var a = g.find("li").eq(4);
				a.addClass("on").siblings().removeClass("on"), d = new IScroll(g[0], {
					mouseWheel: !0,
					snap: "li",
					tap: !0
				}), d.on("scrollEnd", k), d.scrollToElement(a[0], 10, null, !0), i = {
					key: a.attr("data-key") || a.html(),
					val: a.html(),
					el: a
				}
			},
			m = function() {
				h = new b.dialog({
					title: f.title,
					content: g,
					position: f.position,
					btnPosition: "top",
					lock: f.lock,
					padding: "0",
					width: f.width,
					ok: function() {
						f.ok && f.ok(i)
					},
					cancel: function() {
						console.log(111), f.cancel && f.cancel(i)
					}
				})
			},
			n = function() {
				j(), l(), m()
			};
		this.show = function() {
			return h && h.show(1), e
		}, this.close = function() {
			return h && h.close(), e
		}, this.getData = function() {
			return i
		}, n()
	}
	b.listPicker = c
}(window.Zepto, F);